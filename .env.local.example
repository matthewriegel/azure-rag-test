# Copy from .env.example and fill in your values
# For local development with docker-compose

NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-3-large
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Azure AI Search
AZURE_SEARCH_ENDPOINT=https://your-search.search.windows.net
AZURE_SEARCH_API_KEY=your-search-key-here
AZURE_SEARCH_INDEX_NAME=rag-documents

# Azure Cache for Redis (will use local Redis in docker-compose)
AZURE_REDIS_HOST=redis
AZURE_REDIS_PORT=6379
REDIS_CACHE_TTL=3600

# Azure Blob Storage
AZURE_STORAGE_ACCOUNT_NAME=yourstorageaccount
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key-here
AZURE_STORAGE_CONTAINER_NAME=customer-documents

# Optional: Azure Key Vault
# AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/

# Optional: Application Insights
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key

# Feature Flags
ENABLE_QUERY_CACHE=true
ENABLE_CUSTOMER_DATA_CACHE=true
ENABLE_TELEMETRY=false
ENABLE_PII_REDACTION=true

# RAG Configuration
CHUNK_SIZE=500
CHUNK_OVERLAP=100
SEARCH_TOP_K=5
CONFIDENCE_THRESHOLD=0.5

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Ingest API Key (for securing /ingest endpoint)
INGEST_API_KEY=dev-api-key-change-in-production

# CORS Configuration (comma-separated list of allowed origins for production)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
